<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TEVÄ°TOL â€¢ Cumhuriyet Balosu 2025</title>
  <meta name="description" content="Animasyonlu dijital davetiye" />
  <meta name="theme-color" content="#8e0000" />
  <style>
    :root{ --bg:#8e0000; --bg2:#5d0000; --paper:#f6f2e9; --text:#f6f2e9; }
    *{ box-sizing:border-box }
    html,body{ height:100%; margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; color:var(--text);
      background: radial-gradient(1200px 1200px at 10% 10%, var(--bg), var(--bg2)); }
    .wrap{ min-height:100%; display:grid; place-items:center; padding:24px; gap:14px }
    .card{ width:min(820px,96vw); aspect-ratio:3/4; position:relative; perspective:1200px; cursor:pointer }
    /* zarf */
    .envelope{ position:absolute; inset:0; display:grid; place-items:center; border-radius:24px;
      background: linear-gradient(145deg,#b10505,#7a0000); box-shadow:0 20px 50px rgba(0,0,0,.35); overflow:hidden;
      transition: transform .8s cubic-bezier(.2,.7,.2,1), opacity .6s ease; }
    .envelope:before{ content:""; position:absolute; inset:0; opacity:.35; pointer-events:none;
      background:
        linear-gradient(to bottom right, transparent 49.5%, rgba(0,0,0,.15) 50%) top left/50% 50% no-repeat,
        linear-gradient(to bottom left, transparent 49.5%, rgba(0,0,0,.15) 50%) top right/50% 50% no-repeat,
        linear-gradient(to top right, transparent 49.5%, rgba(0,0,0,.15) 50%) bottom left/50% 50% no-repeat,
        linear-gradient(to top left, transparent 49.5%, rgba(0,0,0,.15) 50%) bottom right/50% 50% no-repeat; }
    .seal{ position:absolute; width:120px; height:120px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #ffd3a1, #ffb56b 40%, #d68444 70%, #a25b27);
      box-shadow:0 6px 0 rgba(0,0,0,.25), inset 0 4px 10px rgba(0,0,0,.25);
      display:grid; place-items:center; }
    .hint{ position:absolute; bottom:18px; left:0; right:0; text-align:center; font-size:14px; opacity:.9 }
    /* davetiye (kaÄŸÄ±t) */
    .paper{ position:absolute; inset:0; border-radius:22px; background:var(--paper); box-shadow:0 20px 50px rgba(0,0,0,.35);
      transform: rotateX(14deg) translateY(20px) scale(.98); transform-origin:50% 100%; overflow:hidden; opacity:0;
      transition: transform .9s cubic-bezier(.2,.8,.2,1), opacity .6s ease; }
    .paper img{ width:100%; height:100%; object-fit:cover; display:block }
    /* open state */
    .open .envelope{ transform: translateY(30px) rotateX(-18deg) scale(.96); opacity:0; pointer-events:none }
    .open .paper{ transform: rotateX(0) translateY(0) scale(1); opacity:1 }
    .footer{ text-align:center; opacity:.85; font-size:14px }
    /* konfeti */
    .confetti{ position:fixed; inset:0; pointer-events:none; overflow:hidden }
    .piece{ position:absolute; width:10px; height:14px; opacity:0; transform: translateY(-20vh) rotate(0);
      animation: fall 2600ms ease-in forwards; }
    @keyframes fall{
      0%{opacity:0; transform: translateY(-20vh) rotate(0deg)}
      8%{opacity:1}
      100%{opacity:1; transform: translateY(110vh) rotate(720deg)}
    }
    .error{
      position:fixed; left:50%; top:16px; transform:translateX(-50%);
      background:#fff; color:#6b0000; padding:10px 14px; border-radius:10px; font-weight:700;
      box-shadow:0 8px 24px rgba(0,0,0,.3); display:none;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <div class="envelope" id="envelope">
        <div class="seal">ðŸ‡¹ðŸ‡·</div>
        <div class="hint">Davetiyeyi aÃ§mak iÃ§in tÄ±kla</div>
      </div>
      <div class="paper" id="paper" aria-hidden="true">
        <img id="inviteImage" src="invitation.jpg?v=8" alt="Cumhuriyet Balosu 2025 Davetiyesi" />
      </div>
    </div>

    <p class="footer">17.30 AkÅŸam YemeÄŸi â€“ BahÃ§e â€¢ 18.00â€“19.00 FotoÄŸraf â€“ MÃ¼ze â€¢ 19.00â€“22.50 Balo â€“ Yemekhane â€¢ 23.00 Yatakhane GiriÅŸi</p>
  </div>

  <!-- MÃ¼zik -->
  <audio id="bgm" src="music.mp3" preload="auto" loop playsinline></audio>

  <div class="confetti" id="confetti"></div>
  <div class="error" id="err">GÃ¶rsel yÃ¼klenemedi: invitation.jpg</div>

  <script>
    const card = document.getElementById('card');
    const confetti = document.getElementById('confetti');
    const img = document.getElementById('inviteImage');
    const err = document.getElementById('err');
    const bgm = document.getElementById('bgm');

    img.addEventListener('error', () => { err.style.display = 'block'; });

    function confettiBurst(){
      confetti.innerHTML = "";
      const colors = ['#f6f2e9','#ffe5c7','#ffd8b0','#ffffff','#ffb48a'];
      const reds = ['#8e0000','#a00000','#c10000','#6e0000'];
      for(let i=0;i<150;i++){
        const piece = document.createElement('div');
        piece.className = 'piece';
        const size = Math.random()*8+6;
        piece.style.left = Math.random()*100+'vw';
        piece.style.width = size+'px';
        piece.style.height = size*1.4+'px';
        piece.style.background = Math.random()>.45
          ? colors[Math.floor(Math.random()*colors.length)]
          : reds[Math.floor(Math.random()*reds.length)];
        piece.style.animationDelay = Math.random()*400+'ms';
        confetti.appendChild(piece);
      }
    }

    async function openInvite(){
      card.classList.add('open');
      confettiBurst();
      setTimeout(()=> confetti.innerHTML = "", 10000);
      try { await bgm.play(); } catch(e) {}
    }

    // sadece davetiyeye tÄ±klayÄ±nca Ã§alÄ±ÅŸÄ±r
    card.addEventListener('click', openInvite);
  </script>
</body>
</html>
